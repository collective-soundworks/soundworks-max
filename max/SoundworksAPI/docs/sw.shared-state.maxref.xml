<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<?xml-stylesheet href="./_c74_ref.xsl" type="text/xsl"?>

<c74object name="sw.shared-state">

	<digest>
		Monitor and control soundworks' shared states.
	</digest>
	
	<description>
		Utility to monitor and control IRCAM-ISMM soundworks' shared states within Max using OSC communications
		Communicate with dictionaries or key:value pair to this object.
	</description>
	
	<!--METADATA-->
	<metadatalist>
		<metadata name="author">Etienne DÃ©moulin</metadata>
		<metadata name="tag">OSC</metadata>
		<metadata name="tag">Data</metadata>
		<metadata name="tag">Soundworks</metadata>
		<metadata name="tag">IRCAM</metadata>
	</metadatalist>
	
	<!--INLETS-->
	<inletlist>
		<inlet id="0" type="dictionary">
			<digest>Dictionary: control soundworks' shared states.</digest>
		</inlet>
	</inletlist>

	<!--OUTLETS-->
	<outletlist>
		<outlet id="0" type="dictionary">
			<digest>Dictionary: monitor schema's updates.</digest>
		</outlet>
		<outlet id="1" type="dictionary">
			<digest>Dictionary: monitor schema's values.</digest>
		</outlet>
		<outlet id="2" type="dictionary">
			<digest>Dictionary: soundworks' schema definition.</digest>
		</outlet>
	</outletlist>
	
	<!--ARGUMENTS-->
	<objarglist>
		<objarg name="schemaName" optional="0" type="symbol">
            <digest>Soundworks' schema's name to communicate.</digest>
        </objarg>
	</objarglist>
	
	<!--MESSAGES-->
	<methodlist>
		<method name="bang">
			<digest>
				Ask for the state's current values
			</digest>
			<description>
				Bang to ask for the state's current values. Output from the first outlet will be a dictionary.
			</description>
		</method>
		<method name="dictionary">
			<arglist />
			<digest>
				Function depends on inlet
			</digest>
			<description>
				Control soundworks shared states
			</description>
		</method>
		<method name="schema">
			<arglist />
			<digest>
				Ask for the schema of soundworks' states
			</digest>
			<description>
				Ask for the formal definition of the parameters of soundworks' state.
			</description>
		</method>
	</methodlist>

	<!--ATTRIBUTES-->

    <attributelist>

        <attribute name='ip' get='0' set='1' type='symbol' size='1' >
            <digest>IP Address of soundworks' server</digest>
            <description>IP Address of soundworks' server. Default is localhost</description>
        </attribute>

        <attribute name='portsend' get='0' set='1' type='int' size='1' >
            <digest>Local port of soundworks' server</digest>
            <description>Local port of soundworks' server. Default is 57121</description>
        </attribute>

        <attribute name='portrecv' get='0' set='1' type='int' size='1' >
            <digest>Remote port of soundworks' server</digest>
            <description>Remote port of soundworks' server. Default is 57122</description>
        </attribute>
<!--
        <attribute name='speedLimit' get='0' set='1' type='int' size='1' >
            <digest>Speedlimit for sending OSC datas</digest>
            <description>Speedlimit for sending OSC datas. Default is 20 ms.</description>
        </attribute>
-->
        <attribute name='log' get='0' set='1' type='boolean' size='1' >
            <digest>Logging sent and received datas from and to soundworks</digest>
            <description>Logging sent and received datas from and to soundworks</description>
        </attribute>

        <attribute name='maxqueuesize' get='0' set='1' type='int' size='1' >
            <digest>Set maximum message queue size</digest>
            <description>The maxqueuesize message sets the number of messages that can be in the internal queue at any given time. The default is 512. If you are sending or receiving a lot of messages very frequently you may need to increase this to avoid dropped messages.</description>
        </attribute>

        <attribute name='maxpacketsize' get='0' set='1' type='int' size='1' >
            <digest>Set maximum packet size</digest>
            <description>This is the size in bytes of the largest udp packet you can send. If you are sending very long max messages you may need to increase this. The default is 5096. The work queue will grow as needed until this max limit is reached.</description>
        </attribute>


    </attributelist>
	
	<!--SEEALSO-->
	<seealsolist>
		<seealso name="udpsend"/>
		<seealso name="node.script"/>
		<seealso name="dict"/>
		<seealso name="udpreceive"/>
	</seealsolist>
	
</c74object>