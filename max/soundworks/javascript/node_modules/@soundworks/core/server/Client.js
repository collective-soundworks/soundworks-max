"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _uuid = require("uuid");

function* idGenerator() {
  for (let i = 0; true; i++) {
    yield i;
  }
}

const generateId = idGenerator();
/**
 * Server side representation of a client.
 *
 * @memberof server
 */

class Client {
  /**
   * @param {String} clientType - Type of the client
   * @param {server.Socket} socket - Socket connection with the client
   */
  constructor(clientType, socket) {
    /**
     * Client type, as specified when initializing the client side {@link client.Client}.
       *
       * @see {@link client.Client#init}
       * @type {String}
     */
    this.type = clientType;
    /**
     * Session id (incremeted positive number).
     * The counter is reset when the server restarts.
     * @type {Number}
     */

    this.id = generateId.next().value;
    /**
     * Unique session id (uuidv4).
       * @type {String}
     */

    this.uuid = (0, _uuid.v4)();
    /**
     * Socket connection with the remote {@link client.Client}.
     * @type {server.Socket}
     */

    this.socket = socket;
  }
  /**
   * Destroy the client.
   * @private
   */


  destroy() {
    this.uuid = null;
    this.id = null;
  }

}

var _default = Client;
exports.default = _default;