"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const createIntegrationTest_1 = require("../../helpers/createIntegrationTest");
const test = (0, createIntegrationTest_1.createIntegrationTest)({
    writeLogs: true,
});
test('updates sequence', (t) => {
    const { Roarr, write, } = t.context;
    const log = Roarr;
    log.adopt(() => {
        log.adopt(() => {
            log.info('foo');
        });
    });
    t.is(write.callCount, 1);
    t.is(write.firstCall.args.length, 1);
    t.regex(write.firstCall.args[0], /{"context":{"logLevel":30},"message":"foo","sequence":"0.0.0","time":\d+,"version":"\d\.\d\.\d"}/);
});
